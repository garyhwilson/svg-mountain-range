"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),SVGMountainRange=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isObject",value:function(e){return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&!Array.isArray(e)&&null!==e}},{key:"mergeDeep",value:function(e,t){var r=this;return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(n){r.isObject(t[n])?(e[n]||Object.assign(e,_defineProperty({},n,{})),r.mergeDeep(e[n],t[n])):Object.assign(e,_defineProperty({},n,t[n]))}),e}}]),e}(),t=function(){function e(t,r,n,a,i){_classCallCheck(this,e);var o=0;o=r&&r.length?Array.from(r):this.definePeaks(n.count,a.minY,n.minY,n.maxY,n.startWithPeak),o=this.subdividePeaks(o,n.detail,a.minY,n.maxY);var l=this.mapPointsToObject(t,o),s=0;return s=i?this.defineFlats(l,i):l}return _createClass(e,[{key:"definePeakY",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"defineValleyY",value:function(e,t){return Math.floor(Math.random()*(e-t)+t)}},{key:"definePeaks",value:function(e,t,r,n,a){var i=100,o=a?r:t,l=0,s=0,u=0,c=0,f=1;a?(c=[o,this.defineValleyY(r,t),o],f=2):c=[o];for(var h=0;h<2*e;h+=2){do s=this.definePeakY(r,n),l+=1;while(l<i&&s>n);do u=this.defineValleyY(r,t);while(u<t);c.splice(h+f,0,s),c.splice(h+f+1,0,t)}return c}},{key:"subdivide",value:function(e,t,r,n,a){var i=100,o=Math.abs(e-t),l=e<t?e:t,s=Math.floor(o/2)+l,u=Math.floor(s/r),c=0,f=0;do f=Math.floor(Math.random()*u),c+=1;while(c<i&&(s+f>a||s+f<n));return 1===Math.floor(2*Math.random())&&(f*=-1),s+f}},{key:"subdividePeaks",value:function(e,t,r,n){for(var a=e.splice(0),i=0;i<t;i+=1)for(var o=0;o<a.length-1;o+=2)a.splice(o+1,0,this.subdivide(a[o],a[o+1],t,r,n));return a}},{key:"mapPointsToObject",value:function(e,t){for(var r=t.length,n=e.width/(r-1),a=[],i=0;i<r;i+=1)a.push({x:n*i,y:e.height-t[i]});return a}},{key:"levelArea",value:function(e,t,r,n,a){var i=Array.from(e),o=i[i.length-1].x-i[0].x,l=0,s=Math.floor(o*t);switch(n){case"right":s-=r;break;case"center":s-=Math.floor(r/2)}for(var u=0;u<i.length;u+=1)!l&&i[u].x>s?(l=u,i[u].flatName=a):l&&i[u].x-i[l].x<=r&&(i[u].y=i[l].y);return i}},{key:"defineFlats",value:function(e,t){for(var r=Array.from(e),n=0;n<t.length;n+=1)r=this.levelArea(r,t[n].pos,t[n].width,t[n].align,t[n].name);return r}}]),e}(),r=function(){function e(t,r,n,a,i,o){_classCallCheck(this,e);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");return l.setAttribute("width",r.width),l.setAttribute("height",r.height),l.appendChild(this.createMountainPoly(l,t,r.width,r.height,a?a.color:null,a?a.gradient:null)),i&&l.appendChild(this.createShadowPath(l,r.height,t,n.minY,i.color,i.gradient)),o&&o.color&&o.thickness&&l.appendChild(this.createRidgeline(t,o.color,o.thickness)),l}return _createClass(e,[{key:"createGradient",value:function(e,t,r){var n=r.stops,a=document.createElementNS(e,"linearGradient");a.setAttribute("id",t),a.setAttribute("x1",r.x1),a.setAttribute("y1",r.y1),a.setAttribute("x2",r.x2),a.setAttribute("y2",r.y2);for(var i=0;i<n.length;i+=1){var o=document.createElementNS(e,"stop");o.setAttribute("offset",n[i].offset),o.setAttribute("stop-color",n[i]["stop-color"]),a.appendChild(o)}return a}},{key:"createMountainPoly",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000000",i=arguments[5],o=document.createElementNS("http://www.w3.org/2000/svg","polygon"),l=t.map(function(e){return e.x+","+e.y}).join(" ");if(o.setAttribute("points",l+" "+r+","+n+" 0,"+n),i){var s=this.createGradient(e.namespaceURI,"mountainGradient",i),u=e.querySelector("defs")||e.insertBefore(document.createElementNS(e.namespaceURI,"defs"),e.firstChild);u.appendChild(s),o.setAttribute("fill","url(#mountainGradient)")}else o.setAttribute("fill",a);return o}},{key:"createRidgeline",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=document.createElementNS("http://www.w3.org/2000/svg","path"),a=e.length,i="M "+e[0].x+" "+e[0].y,o=1;o<a;o+=1)i+="L "+e[o].x+" "+e[o].y;return n.setAttribute("fill","none"),n.setAttribute("stroke",t),n.setAttribute("stroke-width",r),n.setAttribute("d",i),n}},{key:"createShadowPath",value:function(e,t,r,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000000",i=arguments[5],o=r.length,l=20,s=document.createElementNS("http://www.w3.org/2000/svg","path"),u=!1,c=void 0,f=void 0,h="",d=1;d<o;d+=1)u===!1&&r[d].y>r[d-1].y&&(u=r[d-1].x,h+="M "+u+" "+r[d-1].y,h+=" "+r[d].x+" "+r[d].y,f=t-r[d].y),u!==!1&&r[d].y<=r[d-1].y&&(r[d].y<f&&(f=t-r[d].y),c=u+l,h+=" "+c+" "+(t-Math.floor(Math.random()*(f-n)))+" Z",u=!1),u!==!1&&(h+=" "+r[d].x+" "+r[d].y,r[d].y>f&&(f=t-r[d].y),d===o-1&&(h+=" "+(u+l)+" "+(t-Math.floor(Math.random()*(f-n)))+" Z",u=!1));if(i){var y=this.createGradient(e.namespaceURI,"shadowGradient",i),v=e.querySelector("defs")||e.insertBefore(document.createElementNS(e.namespaceURI,"defs"),e.firstChild);v.appendChild(y),s.setAttribute("fill","url(#shadowGradient)")}else s.setAttribute("fill",a);return s.setAttribute("d",h),s}}]),e}(),n=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"create",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new e,i={stage:{width:600,height:300},peaks:{count:1,detail:4,minY:200,maxY:300},valleys:{minY:50}},o=a.mergeDeep(i,n),l=o.initPeaks,s=o.stage,u=o.peaks,c=o.fill,f=o.shadow,h=o.ridge,d=o.valleys,y=o.flats,v=new t(s,l,u,d,y),p=new r(v,s,d,c,f,h);return p}}]),n}();return n}();
//# sourceMappingURL=svg-mountain-range.min.js.map
